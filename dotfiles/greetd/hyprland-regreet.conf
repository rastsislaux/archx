# Minimal Hyprland config for running ReGreet under greetd.
# Start regreet and exit Hyprland when it terminates.

# Optional: speed up GTK app startup on some systems (see ReGreet README).
env = GTK_USE_PORTAL,0
env = GDK_DEBUG,no-portals

# Ensure sessions are discovered (keep it curated so default is predictable).
env = SESSION_DIRS,/etc/greetd/sessions

# Force greeter UI downscaling (2x smaller).
env = GDK_SCALE,1
env = GDK_DPI_SCALE,0.5

# Scale down the greeter UI (avoid inheriting HiDPI scaling).
monitor = ,preferred,auto,1

# Avoid any default wallpaper/logo
misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
}

# Start regreet, then quit Hyprland after regreet exits.
exec-once = sh -lc 'regreet --config /etc/greetd/regreet.toml --style /etc/greetd/regreet.css; hyprctl dispatch exit'


